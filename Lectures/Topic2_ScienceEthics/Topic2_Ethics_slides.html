<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data Science &amp; Ethics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Prof. Bisbee" />
    <script src="libs/header-attrs-2.14/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Data Science &amp; Ethics
]
.subtitle[
## Thinking ethically
]
.author[
### Prof. Bisbee
]
.institute[
### Vanderbilt University
]
.date[
### Lecture Date: 2022/08/31
Slides Updated: 2022-08-30
]

---


# Agenda

1. Homework Recap

--

2. Ethics &amp; .red[data] .blue[science]

--

3. Ethics &amp; machine learning

  - NB: some of this content could be triggering (and it is certainly vulgar)

---

# Recap

- Is the internet better today than in 2009? Worse?

--

  - Why?
  
--

- Were there ethical issues involved in our YouTube study?

--

  - Why or why not?


---

# HW 1 Recap


&lt;center&gt;&lt;img src="figs/hw1_sentiment_overall.png" width=80%&gt;&lt;/center&gt;

---

# HW 1 Recap

&gt; "I believe the internet today is better than it was in 2009. One reason I think it is better is because access to information is much better. This is, in my opinion, a function not only of technology improving, but access to the internet greatly improving. Thus, we have possibly 100s of millions of additional people who are able to share whatever they want to share, and that information is accessible for many more people now. ... Another aspect of the internet that has improved is connectivity or rather the ability for people to interact with each other over the internet rather than in person. We saw these benefits during COVID-19 as schools were forced to resort to using Google Meets, Zoom, Microsoft Teams, etc... Were these applications perfect? No. But, the internet at least allowed for something to happen rather than the alternative in 2009 which would have possibly just been no school at all or maybe only just delivering assignments ... These improvements, I think make the internet today better from an ethics/moral perspective because they are improving the lives of millions more people than in 2009. I think overall, more lives have been improved with today’s internet than hurt by the changes since 2009."

&gt; &lt;footer&gt;-- Student #64 Excerpt&lt;/footer&gt;


---

# HW 1 Recap

&gt; "...In 2009, there were certainly many things on the internet, but overall, I would say that the internet was still 'opt in'. Now, it is almost impossible to go about your everyday life without using the internet. ...Something you learn in Econ 101 is the idea of the elasticity of the demand curve. The elasticity for water is 0, since everyone needs it, or they will die. A bit less literally the same is true for the internet. Companies know that people need them, and then they can get away with so many issues that 10 years ago could have potentially destroyed entire companies. The Facebook scandal and the issues surrounding Tik-Tok have shown me that the internet may have once been for the consumers, but now is entirely for corporations. The needs and wants of consumers are not cared about, but rather engagement and profit are the main driving factors. ...Since people are being exploited for their data on a mass scale, I think that the internet is in a bad place right now. Until regulation catches up and companies are forced to start putting their user’s mental health and privacy before pure profit, I think the golden era of the internet is behind us."

&gt; &lt;footer&gt;-- Student #10 Excerpt&lt;/footer&gt;

---

# HW 1 Recap


&lt;center&gt;&lt;img src="figs/hw1_sentiment_words.png" width=80%&gt;&lt;/center&gt;


---

# HW 2 Recap


&lt;center&gt;&lt;img src="figs/hw2_sentiment_overall.png" width=80%&gt;&lt;/center&gt;


---

# HW 2 Recap

&gt; "Personally, I don’t think there were any ethical violations in the YouTube study. ...Foremost, when dealing with people, there is clear potential for an ethical violation especially in regards to the privacy of participants. However, it seems that all feasible precautions were taken. ...In addition to precautions taken to protect the privacy of people involved in the study, my understanding is that the researchers attempted to make the process as objective as possible. For example, they did not use their own opinions to label videos as “liberal,” “conservative,” or “neutral,” but rather used a neural network that was developed using reddit data in order to determine the placement of each video’s political leaning on a scale. ...Of course, nothing is perfect, so it is likely possible to think of ways in which the study could have been even more accurate. As professor Bisbee mentioned, their sample was a convenience sample and not reflective of the U.S. population based on the census. However, the study did not intentionally try to skew the data, and not having a perfect sample given resource constraints sounds perfectly reasonable to me."

&gt; &lt;footer&gt;-- Student #97 Excerpt&lt;/footer&gt;


---

# HW 2 Recap

&gt; "...Firstly, as addressed in class this study could reveal itself as a potential violation of the individual’s participating in the study as data collection was involved. However, as the extension was only targeting chrome users and only downloading the data from the user’s Youtube recommendations, they were consensual with the data that was being collected from them. Additionally, there are certain biases which could rise when producing the algorithms that sort the videos into a political spectrum. The approach/methodology used in the research relied on the assumption that reddit pages were actually about what they were titled (r/conservatives is a conservative space), therefore, this could be a strength to reducing biases from the contributors or weaken the study if these assumptions prove themselves wrong. However, having a range of contributors to the algorithm reduces the chances of biases influencing the published results. All in all, the Youtube study definitely had ethical implications to be considered by the authors as it dealt with humans and tracking their behavior, however, they were well accounted for by the contributors of this publication."

&gt; &lt;footer&gt;-- Student #79 Excerpt&lt;/footer&gt;


---

# HW 2 Recap


&lt;center&gt;&lt;img src="figs/hw2_sentiment_words.png" width=80%&gt;&lt;/center&gt;



  
---

# Why should we focus on ethics?

--

- First, why should anyone?

--

- Second, why should researchers?

--

  - Researchers contribute to **human knowledge**

--

&lt;center&gt;&lt;img src="figs/power_responsibility.png" width=45%&gt;&lt;/center&gt;


---

# Why should we focus on ethics?

- First, why should anyone?

- Second, why should researchers?

  - Researchers contribute to **human knowledge**

  - This is power, and with it comes responsibility
  
--
  
- Third, why should .red[data] .blue[scientists] in particular?

--

&lt;center&gt;&lt;img src="figs/datagrowth.png" width=60%&gt;&lt;/center&gt;


---

background-image: url("https://eoimages.gsfc.nasa.gov/images/imagerecords/149000/149062/issmosaic6x3.jpg")
background-size: 95%

# 



--

&gt; [J]ust as the invention of the telescope revolutionized the study of the heavens, so too by **rendering the unmeasurable measurable**, the technological revolution in mobile, Web, and Internet communications has the potential to revolutionize our understanding of ourselves and how we interact.

&gt; &lt;footer&gt;-- Duncan Watts (2011, p. 266)&lt;/footer&gt;

---


# Readymade Data

--

- Data generated by human behaviors **without their knowledge**

--

  - .red[Data] .blue[Science] is the study of **readymade** data
  
--

- Our YouTube study:

--

  - Explicit consent from participants
  
--

  - Securely stored data
  
--

  - Results reported in aggregate and replication materials anonymized
  
---

# Readymade Data

- A different study

&lt;iframe width="900" height="600" src="https://james-bisbee.shinyapps.io/shiny_chord/" frameborder="0"&gt;&lt;/iframe&gt;

---

# Readymade Data

--

- Twitter accounts are public

--

  - If anyone can read this tweet, why can't I study it?

--

  - "They should know better."
  


---

# Readymade Data

- Privacy as a human right

--

  1. Right to solitude

  2. Right to intimacy
  
  3. Right to anonymity
  
  4. Right to reserve
  
  &gt; [Frank T. McAndrew (2019) "On the Nature of Privacy"](https://www.psychologytoday.com/us/blog/out-the-ooze/201905/the-nature-privacy)
  
--

- Human capacity vs technological capacity for change

--

- "Should know" is not grounds for an ethical argument

---

# Why should .red[data] .blue[science] be concerned with ethics?

--

1. Power

--

  - Volumes of data unthinkable even a generation ago...
  
--

  - ...collected without the **consent** or **awareness** of the "subjects"
  
--

2. Existing frameworks are ill-equipped to speak to the new normal

--

  - Rules, norms and expectations are inconsistent
  
--

  - Disagreement over core definitions
  
--

  - **Readymade** data &amp;rarr; unfamiliar contexts
  
---

# How is ethics practiced in data science today?

--

&lt;center&gt;&lt;img src="figs/wild_west.jfif" width=80%&gt;&lt;/center&gt;


---

# How is ethics practiced in data science today?

- In academia

--

  - Primarily **rules-based** approach
  
--

- Elsewhere

--

  - **Ad hoc** approach
  
--

- Increasing push for a **Principles-based** approach
  
---

# Rules-Based Approach

--

- IRBs + federal law (in the U.S.)

--

- Limitations

--

  - Slow to change
  
  - Hard to explain
  
---

# Ad Hoc Approach

--

- People thinking about ethics independently

--

- Limitations

--
  
  - No community feedback

--

  - Hard to do!

---

# Principles-Based Approach

--

- Implicit in both **rules-based** and **ad hoc** approaches

--

- Puts the principles first

--

  - Principles developed by ethics community
  
---

# Principles-Based Approach

--

1. Respect for persons

--

  - People's autonomy should be respected

--

2. Beneficence

--

  - Define / measure costs and benefits
  
--

  - Evaluate whether benefits outweight costs

--

3. Justice

--

  - Distribution of costs and benefits

--

4. Respect for Law &amp; Public Interest

--

  - Compliance with laws, terms of service
  
--

  - Transparency about methods, procedures to ensure accountability
  
---

# Principles-Based Approach

--

- In practice, ensuring all 4 principles is **very difficult**

--

  - I.e., sharing replication materials creates tension between #4 (transparency) and #1 &amp; #2 (respect for persons and costs)
  
--

- Ethical Frameworks

--

  1. Deontology (focus on means)
  2. Consequentialism (focus on ends)

--

&lt;center&gt;&lt;img src="figs/ethics_framework.png" width="100%"&gt;&lt;/center&gt;

---

# The Importance of Explanation

--

- Balancing principles with Ethical Frameworks requires explanation

--

  - Elicits feedback &amp;rarr; new **perspectives**
  
--

  - Consistent with Principle #4: transparency &amp; accountability
  
--

- Prevents **dogmatism** &amp; **extremism**

--

  - Extreme consequentialism: organ donor example
  
--

  - Extreme deontology: public safety example

---

# Applying Principles is Hard

--

- Simple idea + counter example(s) &amp;rarr; improved idea

--

**`1.`** Informed Consent

--

.leftcol[

- **Simple Idea:** Informed consent from all participants

]

--

.rightcol[
**Counter Example**

&lt;img src="figs/pager.png" width="100%"&gt;

]

---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`1.`** Informed Consent

.leftcol[

- **Simple Idea:** Informed consent from all participants

- **Rules-Based Defense**: 

  - Abundant IRB precedent
  
  - Legal precedent (No. 81-3029. US Court of Appeals, 7th Circuit)

]

.rightcol[
**Counter Example**

&lt;img src="figs/pager.png" width="100%"&gt;

]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`1.`** Informed Consent

.leftcol[

- **Simple Idea:** Informed consent from all participants

- **Principles-Based Defense**: 

  - Limited harm to employers
  
  - Great social benefit
  
  - Lack of alternative methods
  
  - Consistent with setting norms

]

.rightcol[
**Counter Example**

&lt;img src="figs/pager.png" width="100%"&gt;

]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`1.`** Informed Consent

.leftcol[

- ~~**Simple Idea:** Informed consent from all participants~~

- **Improved Idea:** Some form of consent for most research

]

.rightcol[
**Counter Example**

&lt;img src="figs/pager.png" width="100%"&gt;

]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`2.`** Informational Risk

--

  1. Economic
  
  2. Social
  
  3. Psychological
  
  4. Criminal


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`2.`** Informational Risk

.leftcol[

- **Simple Idea:** Data can be anonymized

]

--

.rightcol[
**Counter Example**

&lt;img src="figs/reidentified.png" width="100%"&gt;

- [Sweeney (2002)](https://epic.org/wp-content/uploads/privacy/reidentification/Sweeney_Article.pdf)
]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`2.`** Informational Risk

.leftcol[

- **Simple Idea:** Data can be anonymized

- **Simple Idea:** We can tell which data is sensitive

]

--

.rightcol[
**Counter Example**

&lt;img src="figs/sensitive.png" width="100%"&gt;

]

---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`2.`** Informational Risk

.leftcol[

- ~~**Simple Idea:** Data can be anonymized~~

- ~~**Simple Idea:** We can tell which data is sensitive~~

- **Improved Idea:** All data are potentially identifiable &amp; sensitive

]

--

.rightcol[

- **Data Protection Plans** can minimize Informational Risk 

- "Five Safes" *[(Desai et al 2016)](https://core.ac.uk/download/pdf/323894811.pdf)*

  1. Safe Projects

  2. Safe People

  3. Safe Data

  4. Safe Settings

  5. Safe Output

]

---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`3.`** Privacy

--

.leftcol[

**Simple Idea:** Privacy is defined by public/private dichotomy

]

--

.rightcol[

**Counter Example**

&lt;img src="figs/privacy_voting.png" width="100%"&gt;

]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`3.`** Privacy

.leftcol[

**Simple Idea:** Privacy is defined by public/private dichotomy

]

.rightcol[

**Counter Example**

&lt;img src="figs/privacy_voting_2.png" width="100%"&gt;

]


---

# Applying Principles is Hard

- Simple idea + counter example(s) &amp;rarr; improved idea

**`3.`** Privacy

.leftcol[

~~**Simple Idea:** Privacy is defined by public/private dichotomy~~

**Improved Idea:** Contextual integrity *[(Nissenbaum)](https://www.degruyter.com/document/doi/10.1515/9780804772891/html?lang=en)*

]

.rightcol[

**Contextual Information Norms**

- Actors

- Attributes

- Transmissions

]

---

# Some examples

--

- From academia

--

  **`1`**. [Emotional Contagion](https://www.pnas.org/doi/10.1073/pnas.1320040111) (Kramer et al, 2014)
  
&lt;center&gt;&lt;img src="figs/emotional_contagion_1.png" width="50%"&gt;&lt;/center&gt;

---

# Some examples

- From academia

  **`1`**. [Emotional Contagion](https://www.pnas.org/doi/10.1073/pnas.1320040111) (Kramer et al, 2014)
  
&lt;center&gt;&lt;img src="figs/emotional_contagion_2.png" width="50%"&gt;&lt;/center&gt;

---

# Some examples

- From academia

  **`1`**. [Emotional Contagion](https://www.pnas.org/doi/10.1073/pnas.1320040111) (Kramer et al, 2014)
  
&lt;center&gt;&lt;img src="figs/emotional_contagion_3.png" width="50%"&gt;&lt;/center&gt;


---

# Some examples

- From academia

  **`2`**. [Tastes, Ties &amp; Time](https://www.sciencedirect.com/science/article/pii/S0378873308000385?via%3Dihub) (Lewis et al, 2008)
  
&lt;center&gt;&lt;img src="figs/t3_table.png" width="60%"&gt;&lt;/center&gt;


---

# Some examples

- From academia

  **`3`**. [Encore](https://dl.acm.org/doi/10.1145/2785956.2787485) (Burnett &amp; Feamster, 2015)
  
&lt;center&gt;&lt;img src="figs/encore_schema.png" width="60%"&gt;&lt;/center&gt;


---

# Outside Academia

--

- "Machine Learning" + prediction

--

  - "Learn" patterns from A, then use to predict values for B
  
--

&lt;center&gt;&lt;img src="figs/ML_example_linear.png" width="90%"&gt;&lt;/center&gt;

---

# Outside Academia

- "Machine Learning" + prediction

  - Linear regression does this
  
&lt;center&gt;&lt;img src="figs/ML_example_linear.png" width="90%"&gt;&lt;/center&gt;


---

# Outside Academia

- "Machine Learning" + prediction

  - But the intuition maps to fancier examples
  
&lt;center&gt;&lt;img src="figs/ML_example_stop.png" width="70%"&gt;&lt;/center&gt;


---

# Outside Academia

- "Machine Learning" + prediction

  - Make a prediction &amp;rarr; Evaluate &amp;rarr; Ajdust

  - Repeat as many times as it takes!
  
&lt;center&gt;&lt;img src="figs/ML_example_nnet.png" width="100%"&gt;&lt;/center&gt;

---

# Outside Academia

--

- "Evaluate" is an ethical concept

--

- ...that we delegate to an algorithm

--

- What happens if the algorithm's evaluation is disconnected from ethics?

--

&lt;center&gt;&lt;img src="figs/ML_racism_1.png" width="100%"&gt;&lt;/center&gt;

---

# Outside Academia

- "Evaluate" is an ethical concept

- ...that we delegate to an algorithm

- What happens if the algorithm's evaluation is disconnected from ethics?

&lt;center&gt;&lt;img src="figs/ML_racism.png" width="57%"&gt;&lt;/center&gt;

---

# Outside Academia

- "Evaluate" is an ethical concept

- ...that we delegate to an algorithm

- What happens if the algorithm's evaluation is disconnected from ethics?

&lt;center&gt;&lt;img src="figs/ML_discrimination_1.png" width="100%"&gt;&lt;/center&gt;

---

# Outside Academia

- "Evaluate" is an ethical concept

- ...that we delegate to an algorithm

- What happens if the algorithm's evaluation is disconnected from ethics?

&lt;center&gt;&lt;img src="figs/ML_discrimination_2.png" width="100%"&gt;&lt;/center&gt;

---

# Outside Academia

- "Evaluate" is an ethical concept

- ...that we delegate to an algorithm

- What happens if the algorithm's evaluation is disconnected from ethics?

&lt;center&gt;&lt;img src="figs/apple_card.png" width="90%"&gt;&lt;/center&gt;

---

# And Within Academia

&lt;center&gt;&lt;img src="figs/ML_malicious_1.png" width="80%"&gt;&lt;/center&gt;

---

# And Within Academia

&lt;center&gt;&lt;img src="figs/ML_malicious_2.png" width="80%"&gt;&lt;/center&gt;

---

# Excitement Blinds Us

--

&gt; “Identifying links between facial features and psychological traits by employing methodology similar to the one used here could boost our understanding of the origins and nature of a broad range of psychological traits, preferences, and psychological processes” -- [Wang &amp; Kosinski](https://psycnet.apa.org/fulltext/2018-03783-002.pdf?auth_token=571b81d82fbc15105c730cae3e02da05e69f0e36), 2018

--

&lt;center&gt;&lt;img src="figs/foppingtons_law.png" width="80%"&gt;&lt;/center&gt;

---

# Excitement Blinds Us


&gt; “Identifying links between facial features and psychological traits by employing methodology similar to the one used here could boost our understanding of the origins and nature of a broad range of psychological traits, preferences, and psychological processes” -- [Wang &amp; Kosinski](https://psycnet.apa.org/fulltext/2018-03783-002.pdf?auth_token=571b81d82fbc15105c730cae3e02da05e69f0e36), 2018

&lt;center&gt;&lt;img src="figs/skull.png" width="80%"&gt;&lt;/center&gt;



---

# Practical Ethics

--

- Is the Principle-based approach enough?

--

- One final example: [Plants and Birds Need Privacy Online, Too](https://slate.com/technology/2019/04/superbloom-california-nature-internet-collide-birds-poaching-science.html)

--

&lt;center&gt;&lt;img src="figs/ebird_1.png" width="90%"&gt;&lt;/center&gt;

---

# Practical Ethics

- Is the Principle-based approach enough?

--

1. Explanation

--

2. Empathy

--

  - Do unto others
  
--

  - Adversarial thinking
  
&lt;center&gt;&lt;img src="figs/evil.png" width = 60%&gt;&lt;/center&gt;

---

# Next Week

--

- Next week begins the hands-on part of this course

--

  - This will define the remainder of the semester

  - You will be learning by doing!
  
--

- To get prepared, you need to install `R` and `RStudio` on your computer

--

  - Laptops are **highly recommended** in this class
  
- The vision is to have you:
  
  1. Download the `.Rmd` file prior to the lecture
  
  2. Take notes **in the `.Rmd` file** during lecture
  
  3. Tweak the `.Rmd` file after lecture

---

# Homework

- Install `R` and `RStudio` **on the computer you will use for this class**

--

  - Follow instructions in the homework assignment [Topic2_HW0.pdf](https://github.com/jbisbee1/DS1000-F2022/blob/master/Lectures/Topic2_ScienceEthics/Topic2_HW0.pdf)
  
--

  - Upload compiled `.html` file and raw `.Rmd` file to Brightspace by **6PM Sunday evening**
  
--

- Reach out to TAs on Campuswire / attend their office hours!

---

# References

- These slides borrow heavily from:

  - [The SICSS series on ethics in computational social science](https://sicss.io/overview/ethics-part-1)
  
  - Lectures on ethics given by Andrew Princep (@AJPrincep)

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
